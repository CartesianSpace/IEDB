'''
Created on Jul 16, 2015

@author: MOng
'''
from Bio import Entrez
from Bio import AlignIO
from Bio import SeqIO
import Bio.Align.Applications
from Bio.Align.Applications import ClustalwCommandline
from sys import stdout, stderr
from Bio import SeqIO
from Bio.SeqRecord import SeqRecord
from Bio.Seq import Seq
import os
import subprocess

def predict(method, inSeq, inAllele, len):
    command = 'curl --data "method='+method+'&sequence_text='+inSeq+'&allele='+inAllele+'&length='+len+'" http://tools-api.iedb.org/tools_api/mhci/'
    result = subprocess.check_output(command, shell=True)
    return result

#test:
method = "smm"
inSeq = "SLYNTVATLYCVHQRIDV"
inAllele = "HLA-A*01:01"
len = "9"

result = predict(method, inSeq, inAllele, len)
print result 
